---
title: "맛있었다"
date: "2022.03.31"
thumbnailUrl: "/static/images/blog/example/water.jpg"
---

<img src="/static/images/blog/example/water.jpg" width={"350px"} />

오늘은 React18이 나왔다.

동료들과 신기술을 간단하게나마 적용시켜보고, 그와 관련된 얘기를 할 수 있어서 좋았다.

Automatic Batching 부분을 같이 구현해봤는데,

```
// Before: only React events were batched.
setTimeout(() => {
  setCount(c => c + 1);
  setFlag(f => !f);
  // React will render twice, once for each state update (no batching)
}, 1000);

// After: updates inside of timeouts, promises,
// native event handlers or any other event are batched.`
setTimeout(() => {
  setCount(c => c + 1);
  setFlag(f => !f);
  // React will only re-render once at the end (that's batching!)
}, 1000);
```

예전에는 렌더가 두 번 되던 게 이제는 한 번만 리렌더링 되더라! (신기)

기술은 정말 끝없이 발전하는구나 싶었다.. 공부할 것도 점점 늘어나고..

그런데, 우리가 구현해봤을 때는 예상과 다르게 콘솔에 두 번 찍히더라.

그래서 원인을 찾아보니,

> You can use `<StrictMode/>` to help surface concurrency-related bugs during development. Strict Mode doesn’t affect production behavior, but during development it will log extra warnings and double-invoke functions that are expected to be idempotent.

이런 이유에서 두 번 찍히는 거더라.

엄청난 기술!

나도 버전 업그레이드 가보자고👊
